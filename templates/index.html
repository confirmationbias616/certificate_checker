<!DOCTYPE html>

<html>
<head>
  {% extends 'base.html' %}
  {% block head %}
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono&display=swap" rel="stylesheet">
  <link href="{{ url_for('static',filename='style.css') }}" rel="stylesheet" type="text/css">
  {% endblock %}
  <script>
      function show_hint() {
        document.getElementById("hint").innerHTML = "Once the e-mail pops up, just hit `Send` and then come back to this windown and hit `RESET` to enter a new project.\n\n";
        reset_button_color = document.getElementById("hint").style.color;
        reset_button_border = document.getElementById("hint").style.border;
        reset_button_boxShadow = document.getElementById("hint").style.boxShadow;
        submit_button_boxShadow = document.getElementById("hint").style.boxShadow;
        // document.getElementById("reset").style.color = "darkgreen";
        // document.getElementById("reset").style.border = "4px solid black";
        document.getElementById("reset").style.boxShadow = "-3px -3px 6px var(--highlight)";
        document.getElementById("submit").style.boxShadow = "-1px -1px 1px var(--highlight)";
      }
    </script>
</head>

<body>
  {% block body %}
  <br><br>
  <div align="center">
    <form action="/summary_table" method="GET">
      {% if not job_number %}
        <input type="submit" id="large_button" value="SHOW SUMMARY"></button>
        <br><br><br>
      {% endif %}
    </form>
  </div>
  <form action="/" method="POST">
    <div align="center">
        <input type="submit" id="large_button" value="SUBMIT">
        {% if not job_number %}
          <input type="reset" id="large_button" value="RESET">
        {% endif %}
    </div>
    <br><br>
    <fieldset>
      <legend>{% if job_number %}Adjust{% else %}New{% endif %} Project Info</legend>
      <div class="required">
        <p2>Subcontract Job #</p2><br>
        <input type="text" name="job_number" size="6" {% if job_number %}value="{{job_number}}" {% else %}placeholder="2567"{% endif %} pattern="2\d{3}" {% if job_number %} readonly title="Cannot modify project number once it has been set." {% else %} autofocus required title="4-digit number (2###)"{% endif %}>
      </div><br>
      <div class="required">
        <p2>Project Title</p2><br>
        <input type="text" name="title" size="35" {% if title %}value="{{title}}" {% else %}placeholder="ABC Tower D - Disruptek Office Fit-Up"{% endif %} required {% if job_number %} autofocus {% endif %}>
      </div><br>
      <div class="required">
        <p2>City</p2><br>
        <input type="text" name="city" size="12" {% if city %}value="{{city}}" {% else %}placeholder="Ottawa"{% endif %} required>
      </div><br>
      <div class="required">
        <p2>Address</p2><br>
        <input type="text" name="address" size="20" {% if address %}value="{{address}}" {% else %}placeholder="123 Fake Street"{% endif %} required>
      </div><br>
      <div class="required">
        <p2>General Contractor</p2><br>
        <input type="text" name="contractor" size="30" {% if contractor %}value="{{contractor}}" {% else %}placeholder="MegaCon Builders"{% endif %} required>
      </div><br>
      <p2>Owner</p2><br>
        <input type="text" name="owner" size="30" {% if owner %}value="{{owner}}" {% else %}placeholder="ASAP Properties Inc."{% endif %}>
      <br><br>
      <p2>Certifier</p2><br>
        <input type="text" name="engineer" size="30" {% if engineer %}value="{{engineer}}" {% else %}placeholder="Superior Associates Limited"{% endif %} title="Typically, this is the architect of record.">
    </fieldset>
    <fieldset>
        <legend>Interested Parties</legend>
        {% for _, contact in contacts.iterrows() %}
          <div>
            <input type="checkbox" id="id_{{contact['id']}}" name="contacts" value="{{contact['id']}}">
            <label for="id_{{contact['id']}}">{{contact['name']}}</label>
          </div>
        {% endfor %}
      </fieldset>
    <!-- <img src="https://thumbs.gfycat.com/ShadowyThornyGelada-size_restricted.gif"> -->
  </form>
  {% endblock %}
</body>
</html>
